<!doctype html>
<html lang="en">
   <head>
      <meta charset="utf-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1" />
      <title>io.Pipe</title>
      <link rel="stylesheet" href="../../resources/css/styles.css" />
      <link rel="stylesheet" href="../../resources/css/codeblock.css" />
   </head>
   <body>
      <div class="question"><strong>1. What is io.Pipe?</strong></div>
      <div class="answer">
         <ul>
            <li>It is a pure go implementation, no OS involvement; It returns io.Reader and io.Writer;</li>
            <li>Used for streaming data between goroutines, especially when libraries expect io.Reader or io.Writer(Eg: gzip.NewWriter, http.Request.Body);</li>
            <li>Not typed data â€” it deals with raw bytes ([]byte);</li>
         </ul>
      </div>
      
      <div class="code-block">
         <div class="code-block-title">io-pipe-1.go</div>
         <button class="copy-btn">Copy</button>
         <pre><code>package main

import (
	"fmt"
	"io"
)

func main() {
	pr, pw := io.Pipe()

	go func() {
		defer pw.Close()
		pw.Write([]byte("hello from io.Pipe"))
	}()

	buf := make([]byte, 64)
	n, _ := pr.Read(buf)
	fmt.Println(string(buf[:n]))
}

Output:
hello from io.Pipe

</code></pre>
      </div>

      <script src="../../resources/js/codeblock.js"></script>
   </body>
</html>