<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Var vs Let VS Const</title>
        <link rel="stylesheet" href="../../resources/css/styles.css" />
        <link rel="stylesheet" href="../../resources/css/codeblock.css" />

        <script>
            hljs.initHighlightingOnLoad();
        </script>
        <style>
            code {
                width: 900px;
            }
        </style>
    </head>
    <body>
        <p class="question"><strong>Declaring variables</strong></p>
        <p class="answer">
            <ul>
                <li>Avoid vars(legacy);</li>
                <li>Use const, by default;</li>
                <li>Use let, only when you need to reassign;</li>
            </ul>
        </p>
        
        <p class="question"><strong>var</strong></p>
        <p class="answer">
            <ul>
                <li>Function scoped, not block scoped;</li>
                <li>Gets hoisted - moved to the top of the function;</li>
                <li>Can be redeclared and reassigned;</li>
            </ul>
        </p>

        <p class="question"><strong>let</strong></p>
        <p class="answer">
            <ul>
                <li>Block scoped;</li>
                <li>Gets hoisted - but, they live in some temporal dead zone, until you initialize it;</li>
                <li>So, JS engine knows about let, but doesn't allow you to use it, until you initialize it;</li>
                <li>Can't be redeclared, but can be reassigned;</li>
                <li>Function declarations are fully hoisted - meaning both the function's name and its definition are moved to the top of the scope. This allows you to call a function before it is declared in the code.</li>
                <li>Function expressions and arrow functions are treated like variables; Their names are hoisted, but their definitions are not;</li>
            </ul>
        </p>

        <p class="question"><strong>const</strong></p>
        <p class="answer">
            <ul>
                <li>Block scoped;</li>
                <li>Must be initialized at declaration;</li>
                <li>Can't be reassigned; But if it’s an object/array, properties can still be modified</li>
            </ul>
        </p>

        <p class="question"><strong>const</li>
            </ul>
        </p>

        <div class="code-block">
            <div class="code-block-title">var-let-const.ts</div>
            <button class="copy-btn">Copy</button>
            <pre><code>// Primitive Types
let username: string = "Alice";
let age: number = 25;                     // represents integers and floating-point numbers
let isAdmin: boolean = true;
let nothingHere: null = null;
let notDefined: undefined = undefined;    // a variable that has not been assigned a value
let bigNumber: bigint = 9007199254740991n;
let uniqueId: symbol = Symbol("id");      // represents a unique and immutable value

// Special Types
// any -> disables type checking; dangerous, b/c it defeats the purpose of typescript's safety;
let anything: any = "I can be anything";  ;
anything = 42; // works
// console.log(anything.toUpperCase()); // ✅ allowed (even if it's not a string!), it causes runtime error, rather than compile time error;

// unknown -> It also means anything, but you can't use it directly without narrowing or type checking;
// It is safer b/c you are forced to check the type before using it; 
let unsure: unknown = "could be anything";
if (typeof unsure === "string") {
  console.log(unsure.toUpperCase());
}

// never -> a function that never returns a value, always throws an error;
function throwError(message: string): never {
  throw new Error(message);
}

// void -> used for functions that return nothing;
function logMessage(): void {
  console.log("This function returns nothing");
}

// Object Types
let user: object = { id: 1, name: "Alice" };

// array -> list of values of same type; 
let numbers: number[] = [1, 2, 3, 4];
let strings: Array<string> = ["one", "two", "three"];

// Tuple -> list of elements, where each element has it's own type;
let person: [string, number] = ["Alice", 25]; // First member shoule be string and second one should be number;

// Enum -> defines a set of named constants;
enum Direction {
  Up,
  Down,
  Left,
  Right,
}
let move: Direction = Direction.Up;

// Advanced Types
// union -> variable can hold multiple types;
let id: string | number = "ABC123"; // union type

// intersection -> combine multiple types;
type Employee = { name: string };
type Manager = { role: string };
type TeamLead = Employee & Manager;
let teamLead: TeamLead = { name: "Bob", role: "Lead" };

// Literals -> specific values as type;
let direction: "up" | "down"; // literal type
direction = "up"; // ✅
// direction = "left"; ❌ (error)

// Type Alias -> create custom types
let p1: { x: number; y: number } = { x: 10, y: 20 };
let p2: { x: number; y: number } = { x: 11, y: 21 };

// Above can be written as below:
type Point = { x: number; y: number };
let p3: Point = { x: 10, y: 20 };
let p4: Point = { x: 11, y: 21 };

// Interface -> define object structure;
interface User {
  id: number;
  name: string;
}
let u: User = { id: 1, name: "Charlie" };

// Output examples
console.log("Username:", username);
console.log("Age:", age);
console.log("Is Admin:", isAdmin);
console.log("Big Number:", bigNumber);
console.log("Unique ID:", uniqueId.toString());
console.log("Numbers:", numbers);
console.log("Strings:", strings);
console.log("Person Tuple:", person);
console.log("Enum Direction:", move);
console.log("Union ID:", id);
console.log("Team Lead:", teamLead);
console.log("Point:", p1);
console.log("Interface User:", u);

logMessage();


<b>Output:</b>
npx tsc /Users/mcheedhe/Data/techdocs/ts/pg/basics/datatypes.ts --outDir ~/target/ --target ES2020 --lib ES2020,DOM
node ~/target/datatypes.js

COULD BE ANYTHING
Username: Alice
Age: 25
Is Admin: true
Big Number: 9007199254740991n
Unique ID: Symbol(id)
Numbers: [ 1, 2, 3, 4 ]
Strings: [ 'one', 'two', 'three' ]
Person Tuple: [ 'Alice', 25 ]
Enum Direction: 0
Union ID: ABC123
Team Lead: { name: 'Bob', role: 'Lead' }
Point: { x: 10, y: 20 }
Interface User: { id: 1, name: 'Charlie' }
This function returns nothing

</code></pre>
      </div>


    <script src="../../resources/js/codeblock.js"></script>

    </body>
</html>
