<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Var vs Let VS Const</title>
        <link rel="stylesheet" href="../../resources/css/styles.css" />
        <link rel="stylesheet" href="../../resources/css/codeblock.css" />
    </head>
    <body>
        <p class="question"><strong>Declaring variables</strong></p>
        <p class="answer">
            <ul>
                <li>Avoid vars(legacy);</li>
                <li>Use const, by default;</li>
                <li>Use let, only when you need to reassign;</li>
            </ul>
        </p>
        
        <p class="question"><strong>var</strong></p>
        <p class="answer">
            <ul>
                <li>Function scoped, not block scoped;</li>
                <li>Gets hoisted - moved to the top of the function;</li>
                <li>Can be redeclared and reassigned;</li>
            </ul>
        </p>

        <p class="question"><strong>let</strong></p>
        <p class="answer">
            <ul>
                <li>Block scoped;</li>
                <li>Gets hoisted - but, they live in some temporal dead zone, until you initialize it;</li>
                <li>So, JS engine knows about let, but doesn't allow you to use it, until you initialize it;</li>
                <li>Can't be redeclared, but can be reassigned;</li>
                <li>Function declarations are fully hoisted - meaning both the function's name and its definition are moved to the top of the scope. This allows you to call a function before it is declared in the code.</li>
                <li>Function expressions and arrow functions are treated like variables; Their names are hoisted, but their definitions are not;</li>
            </ul>
        </p>

        <p class="question"><strong>const</strong></p>
        <p class="answer">
            <ul>
                <li>Block scoped;</li>
                <li>Must be initialized at declaration;</li>
                <li>Can't be reassigned; But if it’s an object/array, properties can still be modified</li>
            </ul>
        </p>

        <div class="code-block">
            <div class="code-block-title">var-let-const.ts</div>
            <button class="copy-btn">Copy</button>
            <pre><code>// var
function demoVar() {
  if (true) {
    var x1 = 10;
  }
  console.log(x1); // ✅ Works (not block-scoped)
}

demoVar();

var y1 = 5;
var y1 = 15; // ✅ Redeclaration allowed
console.log('y1: ' + y1);

// ------------------------------------------------------
// let 
function demoLet() {
  if (true) {
    let x2 = 20;
    console.log(x2); // ✅ Works here
  }
  // console.log(x2); // ❌ Error: x is not defined (block scoped)
}
demoLet();

let y2 = 10;
// let y2 = 20; // ❌ Error: cannot redeclare in same scope
y2 = 30; // ✅ allowed


// Eg: let variables are hoisted
// Memory phase (before execution)
var x3 = undefined; // hoisted + initialized
let y3;             // hoisted (but uninitialized → TDZ)

// Execution phase
console.log(x3); // undefined
// console.log(y3); // ❌ ReferenceError (still in TDZ)

x3 = 5;
y3 = 10;

console.log(x3); // 5
console.log(y3); // 10

// ----------------------------------------------------------
// Function declarations are fully hoisted;
sayHello(); // ✅ Works, prints: Hello

function sayHello() {
  console.log("Hello");
}

// function expressions are not hosted;
// sayHi(); // ❌ Error: Cannot access 'sayHi' before initialization

const sayHi = function() {
  console.log("Hi");
};

// --------------------------------------------------------
// const
const x4 = 50;
// x4 = 60; // ❌ Error: cannot reassign

const arr = [1, 2, 3];
arr.push(4); // ✅ Allowed (array contents mutable)

const obj = { name: "Alice" };
obj.name = "Bob"; // ✅ Allowed (properties mutable)

<b>Output:</b>
npx tsc /Users/mcheedhe/Data/techdocs/ts/pg/basics/var-let-const.ts --outDir ~/target/
node ~/target/var-let-const.js 
10
y1: 15
20
undefined
5
10
Hello

</code></pre>
      </div>


    <script src="../../resources/js/codeblock.js"></script>

    </body>
</html>
